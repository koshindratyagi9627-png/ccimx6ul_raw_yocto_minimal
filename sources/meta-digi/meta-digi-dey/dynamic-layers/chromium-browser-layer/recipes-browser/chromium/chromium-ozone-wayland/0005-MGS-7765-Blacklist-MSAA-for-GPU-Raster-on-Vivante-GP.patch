From 2822bbb8da30ab6f8415db4c98014418519f6b42 Mon Sep 17 00:00:00 2001
From: Wujian Sun <wujian.sun_1@nxp.com>
Date: Wed, 26 Jun 2024 15:33:23 +0800
Subject: [PATCH 5/7] MGS-7765: Blacklist MSAA for GPU Raster on Vivante GPUs

Vivante had poor performance when enbale MSAA, disable MSAA
for Vivante GPU.

The same workaround as other GPU vendor having the same issue.
https://codereview.chromium.org/1374043005

Upstream-Status: Pending

Signed-off-by: Wujian Sun <wujian.sun_1@nxp.com>
---
 gpu/config/gpu_driver_bug_list.json | 11 +++++++++++
 1 file changed, 11 insertions(+)

diff --git a/gpu/config/gpu_driver_bug_list.json b/gpu/config/gpu_driver_bug_list.json
index 27fc6e04be012..86ce0297db4f4 100644
--- a/gpu/config/gpu_driver_bug_list.json
+++ b/gpu/config/gpu_driver_bug_list.json
@@ -3399,6 +3399,17 @@
       "features": [
         "disable_accelerated_h264_encode"
       ]
+    },
+    {
+      "id": 436,
+      "description": "On Vivante GPUs MSAA performance is not acceptable for GPU rasterization",
+      "os": {
+        "type": "linux"
+      },
+      "gl_vendor": "Vivante Corporation",
+      "features": [
+        "msaa_is_slow"
+      ]
     }
   ]
 }
-- 
2.34.1

